<div class="card-body container-fluid exception-codes">
  <div class="row justify-content-center">
    <div class="col-sm-6 card d-flex flex-column p-3">
      <div class="col-sm-12">
        <form [formGroup]="form" class="col-sm-12 justify-content-start">
          <div class="d-flex justify-content-center align-items-center mb-3">
            <h2>{{data ? ('Update Exception code' | translate) : ('Create new Exception code' | translate)}}</h2></div>

          <h3>{{'You can choose one of the following default symbols that represent your intention.' | translate}} </h3>
          <div class="d-flex row">

            <div class="col-sm-12 col-md-6">
              <div class="col-sm-12 ">
                <mat-form-field class="full-wid mrgn-b-md" appearance="outline">
                  <mat-label>{{'English name' | translate}}</mat-label>
                  <input matInput placeholder="{{'English name' | translate}}" type="text" name="nameEn"
                         formControlName="nameEn">
                </mat-form-field>
                <small
                  *ngIf="form.controls['nameEn'].hasError('required') && form.controls['nameEn'].touched"
                  class="warn-text gene-block">
                  {{'You must include english code name' | translate}}
                </small>
                <small
                  *ngIf="form.controls['nameEn'].errors && (form.controls['nameEn'].hasError('wrong')) && form.controls['nameEn'].touched"
                  class="warn-text gene-block">
                  {{'You must include a valid english code name' | translate}}
                </small>
              </div>

              <div class="col-sm-12 ">
                <mat-form-field class="full-wid mrgn-b-md" appearance="outline">
                  <mat-label>{{'Arabic name' | translate}}</mat-label>
                  <input matInput placeholder="{{'Arabic name' | translate}}" type="text" name="nameAr"
                         formControlName="nameAr">
                </mat-form-field>
                <small
                  *ngIf="form.controls['nameAr'].hasError('required') && form.controls['nameAr'].touched"
                  class="warn-text gene-block">
                  {{'You must include arabic code name' | translate}}
                </small>
                <small
                  *ngIf="form.controls['nameAr'].errors && (form.controls['nameAr'].hasError('wrong')) && form.controls['nameAr'].touched"
                  class="warn-text gene-block">
                  {{'You must include a valid arabic code name' | translate}}
                </small>
              </div>
            </div>


            <div class="col-sm-12 col-md-6 code-symbols d-flex justify-content-end">
              <mat-radio-group formControlName="symbol" id="" class="example-radio-group row mx-0"
                               (change)="chooseSymbol($event.value, 'default')">
                <ng-container *ngFor="let symbol of symbols">
                  <mat-radio-button tooltip="{{symbol?.name}}" [ngClass]="chosedSymbol === symbol ? 'selected' : ''"
                                    class="example-radio-button py-2 w-25" [value]="symbol">
                    <!--                    <span [ngStyle]="{color: chosedSymbol === symbol ? '#fff' : '#000'}" class="{{symbol?.symbol_name}}"></span>-->
                    <mat-icon svgIcon="{{symbol?.symbol_name}}"></mat-icon>
                  </mat-radio-button>
                </ng-container>
              </mat-radio-group>
              <small
                *ngIf="form.controls['symbol'].hasError('required') && form.controls['symbol'].touched"
                class="warn-text gene-block">
                {{'You must include symbol' | translate}}
              </small>
              <small
                *ngIf="form.controls['symbol'].errors && (form.controls['symbol'].hasError('wrong')) && form.controls['symbol'].touched"
                class="warn-text gene-block">
                {{'You must include a valid symbol' | translate}}
              </small>
            </div>

            <div>
              <a class="">
              <span *ngIf="!showSymbols">{{'OR' | translate}} <span class="clickable" data-bs-toggle="collapse"
                                                                    href="#multiCollapseExample1" role="button"
                                                                    aria-expanded="false"
                                                                    aria-controls="multiCollapseExample1"
                                                                    (click)=" loadIcons(); showSymbols = !showSymbols;searchI.value = ''">{{'Click here' | translate}} </span><span>{{'to find more icons' | translate}}</span></span>

                <span class="clickable" data-bs-toggle="collapse"
                      href="#multiCollapseExample1" role="button" aria-expanded="false"
                      aria-controls="multiCollapseExample1" (click)="showSymbols = !showSymbols"
                      *ngIf="showSymbols">{{'Show less' | translate}}</span>
              </a>

            </div>

            <div class="row">
              <div class="col">
                <div class="collapse multi-collapse" id="multiCollapseExample1">
                  <div class="card card-body d-flex">
                    <mat-form-field class="w-50" appearance="outline">
                      <mat-icon matPrefix>search</mat-icon>
                      <input autofocus #searchI [formControl]="searchCtrl" matInput type="search"
                             placeholder="{{'Search icons' | translate}}" class="search-input">
                    </mat-form-field>
                    <div class="col-sm-12 code-symbols" #customIcons>
                      <mat-radio-group formControlName="symbol" id="2" class="example-radio-group row mx-0"
                                       (change)="chooseSymbol($event.value)">
                        <ng-container *ngFor="let symbol of icons">
                          <mat-radio-button tooltip="{{symbol}}" [ngClass]="chosedSymbol === symbol ? 'selected' : ''"
                                            class="example-radio-button py-2 w-25" [value]="symbol">
                            <!--                    <span [ngStyle]="{color: chosedSymbol === symbol ? '#fff' : '#000'}" class="{{symbol?.symbol_name}}"></span>-->
                            <mat-icon svgIcon="{{symbol}}"></mat-icon>
                          </mat-radio-button>
                        </ng-container>
                      </mat-radio-group>
                    </div>

                  </div>
                </div>
              </div>
            </div>

          </div>
          <div class="col-sm-12 justify-content-center my-3 justify-content-lg-end d-flex">
            <button mat-button class="mx-2 warn-bg" [routerLink]="['/configurations/exception-codes']">{{'Back' | translate}}</button>
            <button (click)="save(form?.value)" [disabled]="!form.valid" color="primary" mat-raised-button
                    class="primary-bg" cdkFocusInitial>
              {{data ? ('Update' | translate): ('Create' | translate)}}
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
