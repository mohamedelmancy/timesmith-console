<div class="card-body container-fluid">
  <div class="row justify-content-center">
    <div class="col-sm-6 card d-flex flex-column p-3 my-4">
      <div class="col-sm-12">
        <form [formGroup]="form" class="col-sm-12 justify-content-start">
          <div class="d-flex justify-content-center align-items-center mb-3"><h2>{{data ? ('Update leave' | translate) : ('Create new leave' | translate)}}</h2></div>
          <div class="d-flex row">
            <div class="col-sm-12 col-md-6 ">
              <mat-form-field class="full-wid mrgn-b-md" appearance="outline">
                <mat-label>{{'Leave english name' | translate}}</mat-label>
                <input matInput placeholder="{{'Leave english name' | translate}}" type="text" name="name_en" formControlName="name_en">
              </mat-form-field>
              <small
                *ngIf="form.controls['name_en'].hasError('required') && form.controls['name_en'].touched"
                class="warn-text gene-block">
                {{'You must include english name' | translate}}
              </small>
              <small
                *ngIf="form.controls['name_en'].errors && (form.controls['name_en'].hasError('wrong')) && form.controls['name_en'].touched"
                class="warn-text gene-block">
                {{'You must include a valid english name' | translate}}
              </small>
            </div>
            <div class="col-sm-12 col-md-6 ">
              <mat-form-field class="full-wid mrgn-b-md" appearance="outline">
                <mat-label>{{'Leave arabic name' | translate}}</mat-label>
                <input matInput placeholder="{{'Leave arabic name' | translate}}" type="text" name="name_ar" formControlName="name_ar">
              </mat-form-field>
              <small
                *ngIf="form.controls['name_ar'].hasError('required') && form.controls['name_ar'].touched"
                class="warn-text gene-block">
                {{'You must include arabic name' | translate}}
              </small>
              <small
                *ngIf="form.controls['name_ar'].errors && (form.controls['name_ar'].hasError('wrong')) && form.controls['name_ar'].touched"
                class="warn-text gene-block">
                {{'You must include a valid arabic name' | translate}}
              </small>
            </div>
            <div class="col-sm-12 col-md-6">
              <mat-form-field class="full-wid mrgn-b-md" appearance="outline">
                <mat-label>{{'Type' | translate}}</mat-label>
                <input type="text" matInput formControlName="type" [matAutocomplete]="auto1">
                <mat-autocomplete #auto1="matAutocomplete" [displayWith]="displayFn"
                                  (opened)="handlerAutocomplete('type')">
                  <mat-option *ngFor="let option of typesFilteredOptions | async" [value]="option">
                    {{option.name}}
                  </mat-option>
                </mat-autocomplete>
              </mat-form-field>
              <small
                *ngIf="form.controls['type'].hasError('required') && form.controls['type'].touched"
                class="warn-text gene-block">
                {{'You must include type' | translate}}
              </small>
              <small
                *ngIf="form.controls['type'].errors && !(form.controls['type'].hasError('required')) && form.controls['type'].touched"
                class="warn-text gene-block">
                {{'You must include a valid type' | translate}}
              </small>
            </div>

            <div class="col-sm-12 col-md-6 ">
              <mat-form-field class="full-wid mrgn-b-md" appearance="outline">
                <mat-label>{{'Balance' | translate}}</mat-label>
                <input matInput placeholder="{{'Balance' | translate}}" type="number" name="balance"
                       formControlName="balance">
              </mat-form-field>
              <small
                *ngIf="form.controls['balance'].hasError('required') && form.controls['balance'].touched"
                class="warn-text gene-block">
                {{'You must include balance' | translate}}
              </small>
              <small
                *ngIf="form.controls['balance'].errors && (form.controls['balance'].hasError('wrong')) && form.controls['balance'].touched"
                class="warn-text gene-block">
                {{'You must include a valid balance' | translate}}
              </small>
            </div>


            <div class="col-sm-12 col-md-6 ">
              <mat-form-field class="example-form-field full-wid" appearance="outline">
                <mat-label>{{'Balance start' | translate}}</mat-label>
                <input readonly matInput [matDatepicker]="picker" formControlName="start" placeholder="MM/DD/YYYY">
                <!--          <mat-hint>MM/DD/YYYY</mat-hint>-->
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
              </mat-form-field>
              <small
                *ngIf="form.controls['start'].hasError('required') && form.controls['start'].touched"
                class="warn-text gene-block">
                {{'You must include a start date' | translate}}
              </small>
              <small
                *ngIf="form.controls['start'].errors && (form.controls['start'].hasError('wrong')) && form.controls['start'].touched"
                class="warn-text gene-block">
                {{'You must include a valid start date' | translate}}
              </small>
            </div>
            <div class="col-sm-12 col-md-6 ">
              <mat-form-field class="example-form-field full-wid" appearance="outline">
                <mat-label>{{'Balance end' | translate}}</mat-label>
                <input readonly matInput [matDatepicker]="picker2" formControlName="end" placeholder="MM/DD/YYYY">
                <!--          <mat-hint>MM/DD/YYYY</mat-hint>-->
                <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                <mat-datepicker #picker2></mat-datepicker>
              </mat-form-field>
              <small
                *ngIf="form.controls['end'].hasError('required') && form.controls['end'].touched"
                class="warn-text gene-block">
                {{'You must include an end date' | translate}}
              </small>
              <small
                *ngIf="form.controls['end'].errors && (form.controls['end'].hasError('wrong')) && form.controls['end'].touched"
                class="warn-text gene-block">
                {{'You must include a valid end date' | translate}}
              </small>
            </div>

            <div class="col-sm-12 col-md-6 ">
              <mat-form-field class="full-wid mrgn-b-md" appearance="outline">
                <mat-label>{{'Color' | translate}}</mat-label>
                <input matInput placeholder="{{'Color' | translate}}" type="color" name="color" formControlName="color">
              </mat-form-field>
              <small
                *ngIf="form.controls['color'].hasError('required') && form.controls['color'].touched"
                class="warn-text gene-block">
                {{'You must include a color' | translate}}
              </small>
            </div>


            <div class="col-sm-12 justify-content-center my-3 justify-content-lg-end d-flex">
              <button  mat-button class="mx-2 warn-bg" [routerLink]="['/configurations/leaves']">{{'Back' | translate}}</button>
              <button (click)="save(form?.value)" [disabled]="!form.valid" color="primary" mat-raised-button class="" cdkFocusInitial>
                {{data ? ('Update' | translate): ('Create' | translate)}}
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
